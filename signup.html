<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All in one Website</title>
    <link   rel="stylesheet" href="style.css"; href="index.html";   rel="icon" type="image/x-icon" href="i.png" >

    <style>
        
    html{text-align: center;}    

    body{ background-image: url(r.jpg);background-size: cover;background-position: right;overflow: hidden;}
    .wrapper{height: 100vh; width: 40%, 600px;align-items: center;justify-content: center;display: flex;flex-direction: column;}
    h1{font-size: 3rem;}
    .text{font-family:Monaco ;color: azure;position: fixed;top: 0px;left:40vw;margin-top: 200px;font-style: oblique;text-align: center;padding: 5px;font-style: bold}
    .r{font-size: 20px;border-radius: 40px;margin: 5px;background-color: rgb(104, 111, 135);padding: 8px;text-rendering: auto;font-family: Monaco;color: white;font-style: bold;}
    ::placeholder{color: white;}
    .t{margin-top: 40px;}
    </style>
</head>
<body>
    <form id="form"></form>
    <h1 class="text"> Register Form </h1>

   <h3 style="margin-top: 400px;font-size: px,height =19x;" ><div> <input class="r" required type="text" name="First-name"  id="firstname"  placeholder="First-name" ></div>
   <div> <input   required class="r"   type="email" name="email " id="email-input" placeholder="Email"> </div>
   <div>  <input   required class="r" type="password name=" name="pasword" id="paword-input" placeholder="Password" > </div>
   <div> <button   class="r" type="submit"  onclick="location.href='index.html';saveName()">Register
    
   </button>
   
s
   <script>
    // Funktion zum Absenden der Formulardaten an den Server
    document.getElementById('form').addEventListener('submit', function (event) {
        event.preventDefault(); // Verhindert das Neuladen der Seite

        const firstName = document.getElementById('firstname').value;
        const email = document.getElementById('email-input').value;
        const password = document.getElementById('password-input').value;

        // Formulardaten als JSON
        const userData = {
            name: firstName,
            email: email,
            passwort: password,
        };

        // Daten per Fetch an den Express-Server senden
        fetch('http://localhost:3000/benutzer', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(userData),
        })
        .then(response => response.json())
        .then(data => {
            console.log('Erfolgreich erstellt:', data);
            alert('Benutzer erfolgreich registriert! Jetzt musst du dich noch anmelden.');
            localStorage.setItem('userName', firstName); // Benutzername in LocalStorage speichern
        })
        .catch(error => {
            console.error('Fehler beim Erstellen des Benutzers:', error);
            alert('Etwas ist schiefgelaufen!');
        });
    });
</script>
</div>

   </h3>
  
</body>
</html 